---
date: "2020-12-13T18:57:36+08:00"
title: "操作系统所处的位置"
authors: Nicholas Zhan
categories:
  - OS
tags:
  - OS
draft: false
toc: true
---

计算机系统由硬件系统和软件系统两大部分组成。硬件包括处理器、主存、磁盘、打印机、键盘、鼠标、显示器、网络接口以及各种输入/输出设备等。**操作系统**管理这些硬件资源，并为用户程序提供了一个更简单的计算机模型。软件系统包括系统软件和应用软件，操作系统属于系统软件。

![操作系统所处的位置](/images/operating_systems/where-the-operating-system-fits-in.png)

大多数计算机有两种运行模式：**内核态(kernel mode)**和**用户态(user mode)**。操作系统运行在内核态，在内核态模式下，操作系统具有对所有硬件的完全访问权，可以执行机器能够运行的任何指令。软件系统的其余部分运行在用户态。在用户态下，只能使用机器指令的一个子集，例如用户态下不能使用有关 I/O 和内存保护的指令。为了从操作系统中获得服务，用户程序必须使用 **系统调用(system call)** 以陷入内核并调用操作系统，**TRAP** 指令把用户态切换到内核态并启用操作系统，当有关工作完成后，在系统调用后面的指令把控制权返回给用户程序。

操作系统运行在裸机之上，为所有其它的软件提供基础的运行环境。它有两个基本独立的任务：为应用程序提供一个资源集的清晰抽象，管理硬件资源。

用户接口程序一般指 shell 或 GUI(Graphical User Interface)，它运行在用户态的最底层，允许用户通过他们运行其它程序，诸如 Web 浏览器、音乐播放器等。我们常见的 [bash](https://www.gnu.org/software/bash/)(Bourne Again SHell)就是大多数 Linux 系统默认的 shell 程序。除了用户可直接使用的 shell 和 GUI 外，操作系统一般还提供了供编程人员调用的 API。

抽象是管理复杂性的一个关键。好的抽象可以把一个几乎不可能管理的任务划分为两个可管理的部分：第一部分是有关抽象的定义和实现，第二部分是随时使用这些抽象解决问题。操作系统的一个主要任务就是隐藏硬件，创建好抽象，并实现和管理它所创建的抽象对象，最终呈现给应用程序(以及程序员)良好、清晰、一致的抽象。

## 参考资料
1. ANDREW S. TANENBAUM, HERBERT BOS. *Modern Operating Systems, 4th Edition*. Pearson, 2015.
